####################################
 Using Ansible to Create Containers:
#####################################

Untill previouse section we were doing changes in our workstation then commiting changes from git to GitHub
Once Latest code available on gitHub Jenkins could above to pull the latest code and build it with the help of maven and 
it was creating docker images and docker container on docker Host.
  In this case Jenkins will be acting as a Build and Deployment Tool, But is there any better way to Handle it , YES 
Thats is where we introduce deployment tool Ansible along with DockerHub

Our applications are containerized at this moment we need repository 
if in case it is not containerized application (i mean wehich we may directory deployed on vm) we can uses nexus or artifactory.
But we have reached containarized level thats is the reason we are going to use docker Hub.

With the Help of Ansible and DockerHub we are going to make this cicd more smoother.
########
In this case--> Jenkins is going to take the code from GitHUb --> Build Artifacts & copy thos artifacts on to AnsibleServer
Now it is Ansible tasks to create images and deploy the containers
Ansible is going to take the artifact and with the help of Dockerfile creats a docker image
This docker image we can commit into docker-Hub becuase dockerHub is repository to store docker images
Whenever we execute any ansible play book to deploy a container docker host (destination server) communicates with 
dockerHub pull the image whatever we mentioned in our playbook and create a container our of it .
######

"Ansible Installation"
=======================
	1) Bring the server
	2) setup Hostname
	3) Create ansadmin User
	4) Add users to sudoers file
	5) Generate SSH Keys
	6) Enable password passed login
	7) Install Ansible

# hostnmectl set-hostname ansible.example.com

# useradd ansadmin
# passwd ansadmin
# vi /etc/sudoers
# sudo su - ansadmin 
# vi /etc/ssh/sshd_config -> To enable password based authentication
To install Ansible
# yum install ansible -y 


After we setup ansible server need to prepare ansible server to create docker images 
For tha we need to add DockerHost to Ansible as a managed Node so that our ansible control node can manage docker host.
For that we need to add dockerip in ansible HOst's inventory file
# vi /etc/ansible/hosts
192.168.56.24 

We need to write a play book in our ansible control node and the palybook should run on target docker node  For that we 
need to add docker host as a managed node to ansible Host .

# To enable this feature we need to do the below 
# Create  ansadmin 
# passwd ansadmin
# Add this ansadmin to sudoers file
# Enable password based authentication # vi /etc/ssh/sshd_config
# we need to copy ssh key from ansible server(ansadmin) to docker host's ansadmin to enable the passwdless authentication.
# ansible -m ping <dockerip> 











