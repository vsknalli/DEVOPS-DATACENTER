###################################
DEPLOY ARTIFACT ON DOCKER-CONTAINER
##################################

For this first we need to setup Docker Host and need to install docker on that host and start docker services

How to create Docker container
=============================
To create a docker container we need docker image, with the help of docker run command we can create docker conatiner with 
some additional specifications

How do we get docker iamges:---> Docker iamge we can get it in two ways 
1) From DockerHub
2) Creating own Dockerfile 
while creating docker image from dockerfile we can use docker build command 

we search "tomcat" image and pull the image to local server # docker pull tomcat 

Now we need to create container out of it , to create a container 
# docker run -d --name tomcat-container -p 8081:8080 tomcat:latest

After we create the tomcat container if we tried to access Web-GUI --we got error , the reson is after tomcat-9 they moved
webapp directory contend to webapp.dist , so we again move back the webapp.dist contend back to webapp directory 
# docker exec -it tomcat-container /bin/bash
By default docker container login to /usr/local/tomcat directory 
Now we need to copy webapp.dist all the contend to webapp folder 
# cp webapp.dist/* webapp
# systemctl reload docker
# However we have done the changes inside the container is temporary , if we terminate the container if we recreate it it, the changes will be disapper.

################################## TO OVERCOMT THIS PROBLEM WE CAN CREATE DOCKERFILE ########################################33
# In the Dockerfile tomcat is as a base image
# Vi Dockerfile

Below are the instruction from base centos on top of it install tomcat:
======================================================================
1) Pull centos from DockerHub
2) Install Java
3) create /opt/tomcat diectory
4) Change work directry to /opt/tomcat
5) Download tomcat package 
6) Extract tar.gz file 
7) Rename the tomcat directory
8) Tell to docker it should run on 8080 port
9) Start tomcat server 
vi Dockerfile
FROM centos:latest
RUN  yum install java -y
RUN  mkdir /opt/tomcat
WORKDIR cd /opt/tomcat
RUN wget <tomcat-download-URL.tar.gx> .
RUN tar -xvzf tomcat-xx-tar.gz file 	
RUN mv tomcat-xxx  tomcat
EXPOSE 8080
CMD ["/opt/tomcat/bin/catalina.sh, "run""]

# docker build -t mytomcat . 
# docker run -d --name mytomcat-server -p 8081:8081 mytomcat

##### To Integrate Docker with Jenkins ##################3

 	. Create a dockeradmin user
	. Install "Publish Over SSH" Plugin 
	. Add dockerhost to Jenkins "Configure system"











Now all fine with tomcat homepage , we need to do some configuration changes and credentials ]
to access "Manager App"

For that we need to customise the dockerfile for this tomcat appliation

